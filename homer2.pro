pro vector_plot,geom,p1,p2,center,num1,num2,x,z,results	width1 = mag(p1)	width2 = mag(p2)	dx1 = width1/num1	dx2 = width2/num2	nhat1 = unit(p1)	nhat2 = unit(p2)	offset = plus(scale(0.5,p1),scale(0.5,p2))	start = minus(center,offset)	x = findgen(num1+1)	z = findgen(num2+1)	; check to see vectors are not parallel	results = findgen(num1+1,num2+1)	;results = replicate({vector},num1+1,num2+1)	for i=0,num1 do begin		dl1hat = nhat1		dl1mag = dx1*i		dl1 = scale(dl1mag,dl1hat)		print,'i=',i		for j=0,num2 do begin			dl2hat = nhat2			dl2mag = dx2*j			dl2 = scale(dl2mag,dl2hat)			dl = plus(dl1,dl2)			;print,'j=',j			obs = plus(start,dl)			;print,obs			b = B(obs,geom)				results[i,j] = mag(b)			x[i] = obs.x			z[j] = obs.z		endfor			endfor	;print,x	;b0 = mag(B(center,geom))	;results = results - b0	;contour,/follow,results,x,z,nlevels=20	contour,/follow,results,nlevels=20end	pro field_vs_current,obs,il,ih,n,result	iinc = (ih-il)/n	result = findgen(301)	for  l=0,300 do begin		I = 100 + l*100		print,I		init_param_current,I,geom		b = B(obs,geom)		result[n] = mag(b)	end	plot,resultendpro contour_plot,geom,p1,p2,center,num1,num2,x,z,results	width1 = mag(p1)	width2 = mag(p2)	dx1 = width1/num1	dx2 = width2/num2	nhat1 = unit(p1)	nhat2 = unit(p2)	offset = plus(scale(0.5,p1),scale(0.5,p2))	start = minus(center,offset)	x = findgen(num1+1)	z = findgen(num2+1)	; check to see vectors are not parallel	results = findgen(num1+1,num2+1)	;results = replicate({vector},num1+1,num2+1)	for i=0,num1 do begin		dl1hat = nhat1		dl1mag = dx1*i		dl1 = scale(dl1mag,dl1hat)		print,'i=',i		for j=0,num2 do begin			dl2hat = nhat2			dl2mag = dx2*j			dl2 = scale(dl2mag,dl2hat)			dl = plus(dl1,dl2)			;print,'j=',j			obs = plus(start,dl)			;print,obs			b = B(obs,geom)				results[i,j] = mag(b)			x[i] = obs.x			z[j] = obs.z		endfor			endfor	;print,x	;b0 = mag(B(center,geom))	;results = results - b0	;contour,/follow,results,x,z,nlevels=20	contour,/follow,results,nlevels=20end		pro contour_field,geom,p1,p2,center,num1,num2,x,z,contourdata,fielddata	close,1	close,2	openw,1,'cdata.txt'	openw,2,'fdata.txt'	width1 = mag(p1)	width2 = mag(p2)	dx1 = width1/num1	dx2 = width2/num2	nhat1 = unit(p1)	nhat2 = unit(p2)	offset = plus(scale(0.5,p1),scale(0.5,p2))	start = minus(center,offset)	x = findgen(num1+1)	z = findgen(num2+1)	; check to see vectors are not parallel	contourdata = findgen(num1+1,num2+1)	fielddata = replicate({vector},num1+1,num2+1)	for i=0,num1 do begin		dl1hat = nhat1		dl1mag = dx1*i		dl1 = scale(dl1mag,dl1hat)		print,'i=',i		for j=0,num2 do begin			dl2hat = nhat2			dl2mag = dx2*j			dl2 = scale(dl2mag,dl2hat)			dl = plus(dl1,dl2)			;print,'j=',j			obs = plus(start,dl)			;print,obs			b = B(obs,geom)			proj1 = dot(obs,nhat1)			proj2 = dot(obs,nhat2)			bproj1 = dot(b,nhat1)			bproj2 = dot(b,nhat2)						fielddata[i,j] = {vector,bproj1,bproj2,0}			contourdata[i,j] = mag(b)						;printf,1,format='(f,f,f)',proj1,proj2,mag(b)			printf,2,format='(f,f,f,f)',proj1,proj2,bproj1,bproj2						x[i] = proj1			z[j] = proj2		endfor		;printf,2,fielddata[i,*]		endfor	;printf,1,format='(11(f))',contourdata	;contour,/follow,contourdata,nlevels=20	close,1	close,2end